<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>


		<!-- 
		
		conputed和watch的区别
		conputed能完成的 watch都能完成 
		watch能完成的 conputed不能一定能完成 例如异步操作
		
		
		所有被vue所管理的函数最好写成普通函数 这样this的指向才是vm 或组件实例对象
		不被vue所管理的函数 (定时器的回调函数 ajax promise的回调函数) 最好写成箭头函数
		这样的this才是vm或组件实例对象
		
		
		箭头函数没有自己的this 往外找 就找到了vm
		
		
		-->

		<div id="root">
			姓:<input type="text" v-model:value="firstname" /><br><br>
			名:<input type="text" v-model:value="lastname" /><br><br>
			姓名:<span>{{fullname}}</span>
		</div>


		<script src="../js/vue.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			Vue.config.productionTip = false;


			let vm = new Vue({
				el: "#root",
				data() {
					return {
						firstname: "张",
						lastname: "三",
						fullname: "张-三"
					}
				},
				watch: {
					firstname: {
						handler(newval) {
							setTimeout(()=> {
								this.fullname = newval + "-" + this.lastname;
							}, 1000)
						}
					}
				}
			})
		</script>

	</body>
</html>
